# egui 版本功能说明

## ✨ 使用 egui 的优势

egui 是一个即时模式 GUI 库，具有以下特点：

### 🎯 主要优势

1. **纯 Rust 实现**
   - 无需外部依赖（如 C++ Qt 库）
   - 更好的跨平台支持
   - 编译更简单，无需配置复杂的环境

2. **即时模式 GUI**
   - 代码简洁直观
   - UI 逻辑与渲染统一
   - 自动布局管理

3. **现代化界面**
   - 响应式设计
   - 支持主题定制
   - 流畅的动画效果

4. **功能丰富**
   - 内置各种控件（按钮、滑块、单选框等）
   - 支持自定义绘制
   - 键盘和鼠标事件处理

## 📋 功能特性

### 左侧控制面板

#### 算法选择
- 🔸 DFS (深度优先搜索)
- 🔹 BFS (广度优先搜索)
- 🔷 DBFS (双向BFS)
- ⭐ A* (启发式搜索)

#### 操作按钮
- ▶ **开始搜索** - 执行选中的算法
- ⏸ **暂停/继续** - 切换自动播放
- ⏮ **上一步** - 回退一步
- ⏭ **下一步** - 前进一步
- 🔄 **重置地图** - 恢复到初始状态
- 🎲 **生成新地图** - 创建新的随机迷宫

#### 动画速度控制
- 滑块调节：1-100 毫秒/步
- 实时显示当前速度

#### 统计信息面板
显示实时数据：
- 当前算法
- 运行状态
- 自动播放状态
- 当前步骤 / 总步骤
- 是否找到路径
- 路径长度
- 耗时（毫秒）

#### 颜色说明
- ■ 墙壁（深绿色）
- ■ 通道（白色）
- ■ 起点/终点（黄色）
- ■ 已访问（天蓝色）
- ■ 回溯（浅红色）
- ■ 最终路径（浅绿色）

#### 快捷键提示
内置快捷键帮助信息

### 中央显示区域

- 560x560 像素的迷宫显示
- 实时更新搜索过程
- 流畅的动画效果

## 🚀 运行方式

### GUI 版本
```bash
cargo run --bin maze-gui --release
```

### 控制台版本
```bash
cargo run --bin maze-console --release
```

## ⌨ 键盘快捷键

| 按键 | 功能 | 说明 |
|------|------|------|
| `空格` | 开始/暂停 | 如果未开始则开始搜索，已开始则暂停/继续 |
| `R` | 重置地图 | 将地图恢复到搜索前的状态 |
| `N` | 新地图 | 生成全新的随机迷宫 |
| `←` | 上一步 | 回退到上一个搜索步骤 |
| `→` | 下一步 | 前进到下一个搜索步骤 |

## 🎨 UI 设计特点

### 布局结构
```
┌─────────────────────────────────────────────┐
│            顶部标题栏                         │
├──────────────────────┬──────────────────────┤
│                      │                      │
│    迷宫显示区域       │   右侧控制面板        │
│    (中央面板)        │   - 算法选择          │
│                      │   - 操作按钮          │
│                      │   - 速度控制          │
│                      │   - 统计信息          │
│                      │   - 颜色说明          │
│                      │   - 快捷键            │
└──────────────────────┴──────────────────────┘
```

### 响应式特性
- 窗口大小可调整
- 自适应布局
- 滚动条自动显示

## 📊 与原版对比

| 特性 | C++/Qt6 版本 | Rust/egui 版本 |
|------|--------------|----------------|
| UI 框架 | Qt6 (保留模式) | egui (即时模式) |
| 代码量 | 较多（信号槽） | 较少（直接） |
| 构建难度 | 需要 Qt 环境 | cargo 即可 |
| 跨平台 | 需配置 | 原生支持 |
| 内存占用 | 较高 | 较低 |
| 启动速度 | 较慢 | 快速 |
| UI 响应 | 信号槽机制 | 即时响应 |

## 🔧 技术细节

### egui 集成
- 使用 `eframe` 作为框架
- `egui::Context` 管理 UI 状态
- `eframe::App` trait 实现主循环

### 性能优化
- 预计算所有搜索步骤
- 按需重绘（running 时）
- 高效的颜色映射

### 代码特点
- 所有权系统保证内存安全
- 类型安全的枚举
- 功能模块化设计
